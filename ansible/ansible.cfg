# ========================================
# ФАЙЛ: ansible.cfg
# ========================================
# Конфигурация Ansible - настройки поведения
# ========================================

[defaults]
# Путь к inventory файлу
inventory = ./inventory/aws_ec2.yml

# Где искать роли
roles_path = ./roles

# Отключить проверку SSH ключей (удобно для новых серверов)
host_key_checking = False

# Не создавать retry файлы при ошибках
retry_files_enabled = False

# Отключить предупреждения о deprecated функциях
deprecation_warnings = False

# Логирование в файл
log_path = ./ansible.log

# Формат вывода - более читаемый YAML
stdout_callback = ansible.builtin.default

# Таймаут SSH подключения (секунды)
timeout = 30
retries = 5

# Количество параллельных подключений
forks = 10

[ssh_connection]
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ServerAliveInterval=30 -o ServerAliveCountMax=3
