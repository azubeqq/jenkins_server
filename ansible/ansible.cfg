# ========================================
# ФАЙЛ: ansible.cfg
# ========================================
# Конфигурация Ansible - настройки поведения
# ========================================

[defaults]
# Путь к inventory файлу
inventory = ./inventory/hosts.yml

# Где искать роли
roles_path = ./roles

# Отключить проверку SSH ключей (удобно для новых серверов)
host_key_checking = False

# Не создавать retry файлы при ошибках
retry_files_enabled = False

# Отключить предупреждения о deprecated функциях
deprecation_warnings = False

# Логирование в файл
log_path = ./ansible.log

# Формат вывода - более читаемый YAML
stdout_callback = yaml

# Таймаут SSH подключения (секунды)
timeout = 30

# Количество параллельных подключений
forks = 10

[ssh_connection]
# Использовать ControlMaster для повторного использования сессии
# ControlMaster – это главная фича для скорости и стабильности
control_path = %(directory)s/ansible-ssh-%%h-%%p-%%r
# Время, в течение которого SSH-сокет остается открытым после завершения плейбука
control_path_dir = ~/.ansible/cp
# Время в секундах, в течение которого сокет должен оставаться открытым
control_path_timeout = 300